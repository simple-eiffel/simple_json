<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEST_PRETTY_PRINTING - SIMPLE_JSON Test Documentation</title>
    <style>
        :root { --primary: #2e7d32; --primary-light: #4caf50; --primary-dark: #1b5e20; --bg: #f5f5f5; --card-bg: #ffffff; --text: #212121; --text-light: #757575; --border: #e0e0e0; --code-bg: #f8f9fa; --success: #4caf50; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: var(--text); background: var(--bg); }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%); color: white; padding: 2rem; margin-bottom: 2rem; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
        .subtitle { font-size: 1.1rem; opacity: 0.9; }
        nav { background: var(--card-bg); padding: 1rem; margin-bottom: 2rem; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        nav a { color: var(--primary); text-decoration: none; margin-right: 1rem; }
        nav a:hover { text-decoration: underline; }
        .section { background: var(--card-bg); padding: 2rem; margin-bottom: 2rem; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h2 { color: var(--primary-dark); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary); }
        h3 { color: var(--primary); margin-top: 1.5rem; margin-bottom: 1rem; }
        .test-group { margin: 1.5rem 0; padding: 1rem; background: var(--code-bg); border-left: 4px solid var(--success); border-radius: 4px; }
        .test-name { font-weight: bold; color: var(--primary-dark); margin-bottom: 0.5rem; }
        .test-description { color: var(--text-light); margin-bottom: 0.5rem; }
        pre { background: var(--code-bg); padding: 1rem; border-radius: 4px; overflow-x: auto; border-left: 3px solid var(--primary); }
        code { font-family: 'Courier New', Courier, monospace; font-size: 0.9rem; }
        .summary-box { background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--success); margin-bottom: 2rem; }
        .summary-box h3 { margin-top: 0; color: var(--primary-dark); }
        ul { margin-left: 2rem; }
        li { margin: 0.5rem 0; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>TEST_PRETTY_PRINTING</h1>
            <p class="subtitle">JSON Pretty Printing Test Suite</p>
            <p class="subtitle">Testing: Formatting, Indentation, Nested Structures, Custom Configuration</p>
        </header>

        <nav>
            <a href="../index.html">‚Üê Documentation Home</a>
            <a href="index.html">‚Üê Test Suite Index</a>
        </nav>

        <div class="summary-box">
            <h3>üìã Test Suite Summary</h3>
            <p><strong>Total Tests:</strong> 20+</p>
            <p><strong>Purpose:</strong> Validate human-readable JSON formatting capabilities.</p>
            <p><strong>Coverage:</strong> Indentation levels, nested structures, arrays, objects, configuration options.</p>
            <p><strong>Lines of Code:</strong> 559</p>
        </div>

        <div class="section">
            <h2>Overview</h2>
            <p>
                TEST_PRETTY_PRINTING validates the SIMPLE_JSON_PRETTY_PRINTER class, which transforms compact JSON
                into human-readable, formatted output. This is essential for debugging, logging, and presenting JSON
                data to humans.
            </p>
        </div>

        <div class="section">
            <h2>Test Categories</h2>
            
            <h3>1. Basic Formatting Tests</h3>
            
            <div class="test-group">
                <div class="test-name">test_format_simple_object</div>
                <div class="test-description">Format basic object with indentation</div>
                <pre><code>Input:  {"name":"Alice","age":30}
Output: {
  "name": "Alice",
  "age": 30
}</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_format_simple_array</div>
                <div class="test-description">Format array with line breaks</div>
                <pre><code>Input:  [1,2,3,4]
Output: [
  1,
  2,
  3,
  4
]</code></pre>
            </div>

            <h3>2. Indentation Tests</h3>

            <div class="test-group">
                <div class="test-name">test_custom_indent_2_spaces</div>
                <div class="test-description">2-space indentation</div>
                <pre><code>{"a":{"b":"c"}}</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_custom_indent_4_spaces</div>
                <div class="test-description">4-space indentation (default)</div>
            </div>

            <div class="test-group">
                <div class="test-name">test_custom_indent_tab</div>
                <div class="test-description">Tab-based indentation</div>
            </div>

            <h3>3. Nested Structure Tests</h3>

            <div class="test-group">
                <div class="test-name">test_nested_objects</div>
                <div class="test-description">Multi-level nested objects</div>
                <pre><code>Input:  {"a":{"b":{"c":"d"}}}
Output: {
  "a": {
    "b": {
      "c": "d"
    }
  }
}</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_nested_arrays</div>
                <div class="test-description">Arrays within arrays</div>
                <pre><code>Input:  [[1,2],[3,4]]
Output: [
  [
    1,
    2
  ],
  [
    3,
    4
  ]
]</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_mixed_nesting</div>
                <div class="test-description">Objects containing arrays and vice versa</div>
                <pre><code>{"array":[1,2,3],"object":{"key":"value"}}</code></pre>
            </div>

            <h3>4. Special Value Tests</h3>

            <div class="test-group">
                <div class="test-name">test_format_null_values</div>
                <div class="test-description">Proper formatting of null</div>
                <pre><code>{"value": null}</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_format_boolean_values</div>
                <div class="test-description">Boolean true/false formatting</div>
                <pre><code>{"true": true, "false": false}</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_format_numbers</div>
                <div class="test-description">Integer and real number formatting</div>
                <pre><code>{"integer": 42, "real": 3.14}</code></pre>
            </div>

            <h3>5. String Handling Tests</h3>

            <div class="test-group">
                <div class="test-name">test_format_escaped_strings</div>
                <div class="test-description">Preserve escaped characters</div>
                <pre><code>{"text": "Line 1\nLine 2\tTabbed"}</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_format_unicode_strings</div>
                <div class="test-description">Unicode character preservation</div>
                <pre><code>{"chinese": "‰Ω†Â•Ω", "emoji": "üòÄ"}</code></pre>
            </div>

            <h3>6. Edge Case Tests</h3>

            <div class="test-group">
                <div class="test-name">test_format_empty_object</div>
                <div class="test-description">Empty object formatting</div>
                <pre><code>Input:  {}
Output: {}</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_format_empty_array</div>
                <div class="test-description">Empty array formatting</div>
                <pre><code>Input:  []
Output: []</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_very_deep_nesting</div>
                <div class="test-description">Handle deeply nested structures</div>
                <pre><code>10+ levels of nesting with proper indentation</code></pre>
            </div>

            <h3>7. Configuration Tests</h3>

            <div class="test-group">
                <div class="test-name">test_compact_vs_pretty</div>
                <div class="test-description">Compare compact and pretty outputs</div>
                <pre><code>Validate round-trip: parse ‚Üí pretty ‚Üí parse ‚Üí compact</code></pre>
            </div>

            <div class="test-group">
                <div class="test-name">test_sortkeys_option</div>
                <div class="test-description">Optional alphabetical key sorting</div>
                <pre><code>{"z": 1, "a": 2} ‚Üí {"a": 2, "z": 1}</code></pre>
            </div>
        </div>

        <div class="section">
            <h2>Test Patterns</h2>
            
            <h3>Standard Test Pattern</h3>
            <pre><code>create l_printer.make_with_indent (4)  -- 4-space indent
create l_json

l_value := l_json.parse (compact_json)
l_pretty := l_printer.format (l_value)

-- Validate formatting
assert_true ("has_newlines", l_pretty.has_substring ("%N"))
assert_true ("has_indent", l_pretty.has_substring ("  "))

-- Validate round-trip
l_parsed := l_json.parse (l_pretty)
assert_json_equal ("round_trip", l_value, l_parsed)</code></pre>
        </div>

        <div class="section">
            <h2>Dependencies</h2>
            <ul>
                <li><strong>Inherits:</strong> TEST_SET_BASE</li>
                <li><strong>Tests:</strong> SIMPLE_JSON_PRETTY_PRINTER</li>
                <li><strong>Uses:</strong> SIMPLE_JSON, SIMPLE_JSON_VALUE</li>
            </ul>
        </div>

        <div class="section">
            <h2>Significance</h2>
            <ul>
                <li><strong>Human Readability:</strong> Essential for debugging and documentation</li>
                <li><strong>Configurable:</strong> Supports different indentation styles</li>
                <li><strong>Lossless:</strong> Pretty-printed JSON can be parsed back identically</li>
                <li><strong>Production Quality:</strong> Handles all edge cases correctly</li>
            </ul>
        </div>
    </div>
</body>
</html>
